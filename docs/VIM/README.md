# NOTES

## D1 基本操作

- 模式
  - normal模式 insert模式
- 基本移动 上下左右 HJKL
- 插入文字 i光标后方 a光标前方
- 出insert模式
- 在终端中如何退出
  - :wq 保存并退出  :q! 强制退出
- ctrl和caps调换位置
- 系统键盘修改修饰键
- 快速移动
  - 配置 以及 修改键盘设置

> tips： 习惯insert完立即回到Norma模式

## D2 行的操作

- 行的移动 ( normal模式下)
行首：^ 改键 H
行尾：g_ 改键 L

> 由于输入时经常想移动光标，于是就将insert模式下的光标移动改为了 ctrl + hjkl。

- 行的插入
行首插入 A
行尾插入 I
行前 O （换行）
行后 o  （换行）
- 复制粘贴
复制行 yy
删除行 dd （可以粘贴）
粘贴 p

## D3 删除复制和基于单词的移动

- vim的语法
    定义：操作符 + 动作 （区域范围、使用移动的一些动作）
- 操作
· 删除 d (hjkl/ H/ L/ webge/ )
· 删除后进入insert模式 c
· 复制 y
- 基于单词和字串的移动
单词的定义： 单词与符号都认定为单个单词
字串的定义： 以空格分割的一串字符
  - 基于单词的移动
    e 单词结尾 往后
    w 单词开头 往后
    b 单词开头 往前
    ge 单词结尾 往前
  - 基于字串的移动
    E 字串结尾 往后
    W 字串开头 往后
    B 字串开头 往前
    GE 字串结尾 往前
- 组合
  - cw 删除当前单词
  - ea 在当前单词结尾处添加

## D4 快捷删除和替换、撤销

x 删除当前光标字符
X 删除光标前的字符
s 删除光标字符后进入insert模式
S 删除当前行后进入insert模式
r+【输入】 替换字符
R+【输入多个字符】替换多个字符
undo 和 redo
u 撤销
C + r 撤回撤销

## D5 可视化模式

v 进入可视化模式;
V 以行为单位;
C + v 以块为单位;

- 退出可视化模式
esc C+[ 退出
v V 退出

- 选定范围
配合动作
o 切换开始的光标位置
gv 回到上一次选中区域

- 技巧
跨多行同时操作 选中后A I d ...
复制粘贴 利用

## D6 文本对象 （范围）

> 释义：
> 操作 + 内/外部 + 文本对象
 内部 i
 外部 a

 **w 一个单词**
 **b  一对括号**
**B  一对{}**
() 一对括号
{} 一对{}
<> 一对<>
其他符号类推
 **t xml标签**
s 一个句子
p 一个段落

vim-textobj-arguments function参数
> ia 不包含分隔符
    aa 包含分隔符
    删除一个参数 daa
    修改一个参数 cia

vim-textobj-entire
> aa 删除当前文本所有
ia 删除当前文本所有 不包含前面和后面空格

## D7 滚动

- C + f 向下滚动一屏
- C + B 向上滚动一屏
- C + d 向下滚动半屏
- C + u 向上滚动半屏
- C + e 向下滚动一行
- C + y 向上滚动一行
- 基于配置（更容易记忆）
  - **上五行 K**
  - **下五行 J**
  
- **zz 将当前行置于屏幕中央**
- zt 当前行置于屏幕顶部附近
- zb 将当前行置于屏幕底部附近
- gg 跳转到文件首
- G 跳转到文件尾
- **行数 + gg / G 跳转到指定行**

## D8 搜索

- f 正向移动到下一个（char）所在之处
- F 反向向移动到下一个（char）所在之处
- t 正向移动到下一个（char）字符之前
- T 反向移动到下一个（char）字符之前

> ; 下一个
> , 上一个
> 移动用f，配合c d等操作用t

- / 向下全局查找
- ? 向上全局查找

> n/N 下一个/上一个
> / + 方向键 查看搜索历史
> **和操作使用**

- \# 向上查当前光标所在单词
- \* 向下查当前光标所在单词

## D9 更高效的移动 （通过两个已经集成的插件）

- esaymotion （使用后会高亮可移动的位置）
  - \\<leader\>\\<leader\> w  当前光标往后的word首
  - \\<leader\>\\<leader\> e  当前光标往后的word尾
  - \\<leader\>\\<leader\> b  当前光标往前的word首
  - \\<leader\>\\<leader\> w  当前光标往后的word尾

  - **\\<leader\>\\<leader\> h  当前光标往前的word首+尾**
  - **\\<leader\>\\<leader\> l  当前光标往后的word首+尾**

  - \\<leader\>\\<leader\> j  当前光标往后的行首
  - \\<leader\>\\<leader\> k  当前光标往前的行首

- sneak （通过两个字符全局搜索）
  - s + 2个字符 （改键后使用 f | F ）
  - 改键
    - 替换原生的f功能（比f更加强大、不用记这么多键）
    - 利用映射实现原来的s/S/z/Z （与原来的s不冲突）
  
  - 在可视化visual模式下使用 v + f + 2个字符
  - 在操作符下使用 v + f + 2字符  
  
## D10 数字

- 语法
  - 操作符 + 数字 + 范围
  - 数字 + 操作符 + 范围

### 点

- 重复上一次的修改 （增加、删除、更新）
  - 例子：diw 删除单词，可用点重复
- **核心：一键移动一键操作**
  - 场景案例1： 句尾加分号
  - 场景案例2： 手动查找替换

## D11 多文件之间的跳转

- 标记
  - **mm 单文件**
  - **mM 多文件**
- 跳转
  - ' 跳转到标记的行
  - ` **跳转到标记的行和列**

- **gd 跳转到指定地方**

> 查看函数定义、使用的位置 （类似于vscode的跳转）
> **可以跨文件使用**

- 跳转历史
  - C + i 向前跳
  - C + o 向后跳

> :jumps 跳转的历史列表

## D12 处理包裹字符的符号

- cs+已经存在的符号+改变的符号  **改变符号**
- ys+范围+符号 **用符号包裹字符**
- ds+符号 **删除符号**

- **可视化模式下** S + 符号 **用符号包裹字符**

## D13 替换字符串

- 替换
  - 公式 **:[range]s/{pattern}/string/{flags}**
>
> - range 可选范围
>   - $  **到尾部**
>   - %  **全文**
>   - number,number 行到行之间
> - flags
>   - g 替换在默认情况下未每行第一个，需要替换所有要加上/g
>   - c 交互模式 （替换、跳过、等等操作）

- 多选操作
  - gb (类似vscode C + d)  区分大小写

## D14 悬浮显示 大小写 注释

- gh 悬浮显示
- 大小写
  - g + u/U + 范围
  - 可视化模式 + u/U
  - ~ 单词字符转换大小写
- 注释
  - gc 单行注释
  - gC 多行注释

## D15 窗口管理
>
- 新建窗口
  - **C + w + v 左右**
  - C + w + s 上下
- 切换窗口 （切换窗口焦点）
  - C + w + h/j/k/l
  - C + w + w 互换
- 关闭窗口
  - C + w + c  关闭
  - C + w + o 保留当前，关闭其他所有窗口

- 扩展（基于vscode快捷键进行窗口管理）
  - **shift + C + h/j/k/l 窗口切换 (改键)**

> keybindings.json
> PowerToys 将C + hjkl 映射成 上下左右

## D16 删除函数

- % 匹配括号/ 括号（移动光标）

> 可以和可视化模式搭配快速选中括号内（包括括号）、函数体内的内容

- vim-indent-object 基于缩进的对象
  - vii 函数内部的内容
  - vai 包括整个函数

> vaI 解决最后一个花括号没有被选中的问题

- 删除的几种方式
- dap/dip 基于段落的方式 （函数内如果空行，则不会选中所有内容）
- dal 基于 vim-indent-object
- V$%d 打开可视化行模式移动到行尾部然后匹配括号
  - 优化 使用配置 (\<leader\> d f)
  - 参数格式化后换行  可以配置 ddf 等 自行组合配置

## D17 掌握宏

> 可以录制一系列动作

- 开始录制
  - qa(寄存器的名字) + 录制的内容
- 结束录制
  - q 停止  
- 查看录制好的宏
  - :reg a(寄存器的名字)
- 使用
  - @ a(寄存器的名字)
- 调用最后一次执行的宏
  - @@
- 重复执行
  - 数字 + @a
- 安全机制
  - 报错就停
- 追加
  - q A（大写的寄存器名字）+ 操作
- 修改一个已知的宏
  - " + a + p 复制出来
  - : put a  复制出来

  - " + a + yy （修改，但是在vscode中不生效）

## D18 调用vscode的命令

> 通过commands字段配置成vim的指令

- 格式化文档
- 重命名
- 折叠代码

## 关于VIM的操作补充（来自网络搜集）待完善

- 折叠后的移动
  - gj / gk 移动物理行
- 百分比滚动
  - 23% 滚动到文档23%的位置
- 数字 ＋ w/e  行内快速移动单词
- 用 / ? 查找代替 f 快速查找或划定范围
- gi 快速回到上一次退出insert模式继续编辑
- [ 或者 ] + 符号  移动到上下一个没配对的符号 
  - [( 跳转到上一个没配对的 (
  - ]) 跳转到下一个没配对的 )
  - [{ 跳转到上一个没配对的 {
  - ]} 跳转到下一个没配对的 }

## Vscode01 操作文件

- 切换到files explorer 区域
- vim shift + ctrl + h
- vscode ctrl + ; (改键后)
- 切换到编辑区
  - vim shift + ctrl + l
  - vscode ctrl + ' (改键后)
- 移动光标
  - jk 上下移动
  - h 折叠文件夹 在文件上使用则光标移动到当前文件所在文件夹上
  - l 展开文件夹 在文件上使用则打开文件
- 创建文件
  - cmd + n  Vscode 原生
  - 使用插件 file Utils
- 创建文件夹
  - A 在files explorer新建 改键
  - \\<leader\> + n + d 在编辑区域直接新建 配置通过vim调用vscode命令

## Vscode02 操作多个vscode窗口

- 打开新的vscode窗口
  - shift + ctrl + n
  - shift + command + n （mac）
- ctrl + r 选择工作区
- 多个窗口切换
  - command + ` (mac)
- 关闭vscode窗口
  - shift + command + w
  - shift + ctrl + w

- 全局搜索
  - shift + ctrl + f 打开搜索栏 (目前只在侧栏聚焦时生效)
  - ctrl + 上下 移动用f

- 在工作区查找对象、函数
  - ctrl + t
- 查看当前文件 大纲 ctrl + shift + o
- **全局搜索**
  - shift + ctrl + p
- 搜索文件
  - ctrl + p

## Vscode04

- 提示
  - 触发函数的参数提示 command + shift + 空格
  - 代码提示 command + i
- 移动行
- 增加行
- 删除单词
  - window下只能用 ctrl + Del 删除后面的单词
  - mac下使用opt + del 删除前面的单词
- 跳转到错误处
  - F8
- 选择所有出现的当前单词 ctrl + F2  

## Vscode05 快捷键

> window系统下很多vscode都与改键或者其他快捷键冲突，待完善。

## Vscode06  GIT

- 打开面板
  - \\<leader\> + g + g  （vim改键后）
- stage Change
  - \\<leader\> + g + s  （vim改键后）
- commit
  - \\<leader\> + g + c  （vim改键后）
- diff
  - \\<leader\> + g + d + f（vim改键后）
- unstage Change
  - \\<leader\> + g + u  （vim改键后）
- diacard Change
  - \\<leader\> + g + c + l  （vim改键后）

## Vscode07 snippets (代码片段)

> tab键可以切换位置
> 提示消失重新展示 command + i

## Vscode08 重构

> 重构提示
> ctrl + shift + r
> command + .

- vscode
  - Extract Method 选中区域提炼函数
  - Extract Variable 字符串提炼成变量
- abracadabra
  - 内联变量 和提炼变量相反
  - 字符串转换成模板字符串
- hocus pocus
  - 创建变量 为未创建的变量创建变量 （配置leader快捷键）
  - 创建函数 为未创建的函数创建函数 （配置leader快捷键）
- javascript booster
  - function 转化 箭头函数 （互转）
  - ifelse 转化 ? :

## Vscode09 VSpaceCode

> 快捷键插件 （已经配置好很多快捷键，也可以直接使用vim，GitHub仓库有vim版本的配置）

- space + ; 在vim中打开 （改键 settingJson）
- space 在管理器中打开 （改键 keybinding）

## lazygit 终端git管理工具 （暂时不用）

## Vscode10 终端

- 打开
  - control + `  || cmd + j  （反引号太远，改为ctrl+ ,）

> cmd 只会打开面板，不会跳转终端

- 清空 cmd + k
- 分屏 cmd + \
- 分屏切换 cmd + [ ]
- 关闭 shift + alt + q
- 新建 shift + alt + n
- 窗口切换 shift + cmd + [ ]
- 在vscode中打开终端  shift + cmd + c  （会直接打开当前项目的路径）

## Vscode11 debug

> 不常用 暂时不记录

## Chrome

### 移动

- j k 上下移动
- u d 较大范围的上下移动
- gg 页面头部
- G 页面底部
- f 选择
- F 新建窗口的f
- J K 标签页切换 （一些页面不支持）
- H L 页面的后退前进

### 操作

- gi 聚焦输入框
- yy 复制当前标签页url
- p 粘贴url到当前地址栏
- P 新建标签页粘贴
- w 关闭标签页
- r 刷新
- yv 进入可视化模式

### 搜索

- o 显示多功能搜索框

> 历史记录、用搜索引擎搜索、网址跳转

- O 搜索后打开新标签
- b 搜索收藏夹的内容
- B 打开新标签
- ge 显示搜索框、编辑当前网址
- T 列出当前的标签页列表
- / 查找 （用n N 跳转）

### 标签页

- g0 g$ 跳转到第一个 最后一个标签页
- t 打开新的空标签页
- yt 复制当前标签页在新标签打开
- X 恢复关闭的标签页
- W 将当前标签页作为新窗口打开
- ^ 调转最近使用的标签页
- << >> 移动标签页
- option + p 固定标签页

### 一些不常做操作

- m 标记
- ` 跳转
- gu 跳转当前页面上一层
- gU 当前页面首页
- i 暂停插件
- \<a-f> 连续点击网页中的链接和按钮
